@startuml(id=ContainerWithBoundary_FileIncludes)
!include <logos/android-icon.puml>
!include <logos/docker-icon.puml>
!include <logos/graphql.puml>
!include <logos/kafka.puml>
!include <logos/postgresql.puml>
!include <C4/C4_Container>
title My Software System - Containers
caption Example container view

SHOW_PERSON_OUTLINE()
LAYOUT_TOP_DOWN()

AddRelTag("async relationship", $textColor="$ARROW_COLOR", $lineColor="$ARROW_COLOR", $lineStyle = DashedLine())

Person_Ext(17, "Android User", "some Android user", "android-icon")
WithoutPropertyHeader()
AddProperty("prop 1", "value 1")
Person(6, "Maintainer", "some employee", "", $link="https://www.google.de")
System_Boundary(1_boundary, My Software System) {
  Container(3, "App", "Android", "android app", "android-icon")
  WithoutPropertyHeader()
  AddProperty("prop 1", "value 1")
  Container(2, "Backend App", "Kotlin", "some backend app", "docker-icon", $link="https://www.google.de")
  ContainerDb(4, "Database", "postgres", "some database", "postgresql")
}
System_Boundary(11_boundary, GraphQL) {
  Container(12, "Internal Schema", "", "Schema provided by our app", "")
  Container_Ext(15, "External Schema", "", "Schema provided by another team", "")
}
System_Boundary(8_boundary, Broker) {
  ContainerQueue_Ext(9, "my.topic", "", "external topic", "kafka")
}
Rel_D(17, 3, "uses app")
Rel_D(3, 12, "reuqest data using", "GraphQL", $sprite=graphql, $link="https://graphql.org/")
Rel_R(2, 4, "CRUD", "JPA")
Rel_D(2, 12, "provides subgraph to")
Rel_U(2, 9, "reads topic", "Avro", $tags="async relationship")
Rel_D(15, 12, "extends schema")
Rel_D(6, 2, "Admin UI", "REST")

skinparam linetype ortho
skinparam nodesep 100
skinparam ranksep 130
SHOW_LEGEND(true)

@enduml